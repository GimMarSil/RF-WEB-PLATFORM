"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/evaluation/user-role-info";
exports.ids = ["pages/api/evaluation/user-role-info"];
exports.modules = {

/***/ "mssql":
/*!************************!*\
  !*** external "mssql" ***!
  \************************/
/***/ ((module) => {

module.exports = require("mssql");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "@azure/msal-node":
/*!***********************************!*\
  !*** external "@azure/msal-node" ***!
  \***********************************/
/***/ ((module) => {

module.exports = import("@azure/msal-node");;

/***/ }),

/***/ "jose":
/*!***********************!*\
  !*** external "jose" ***!
  \***********************/
/***/ ((module) => {

module.exports = import("jose");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fevaluation%2Fuser-role-info&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cevaluation%5Cuser-role-info.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fevaluation%2Fuser-role-info&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cevaluation%5Cuser-role-info.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_evaluation_user_role_info_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\evaluation\\user-role-info.ts */ \"(api)/./src/pages/api/evaluation/user-role-info.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_evaluation_user_role_info_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_evaluation_user_role_info_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_evaluation_user_role_info_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_evaluation_user_role_info_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/evaluation/user-role-info\",\n        pathname: \"/api/evaluation/user-role-info\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_evaluation_user_role_info_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmV2YWx1YXRpb24lMkZ1c2VyLXJvbGUtaW5mbyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyU1Q3BhZ2VzJTVDYXBpJTVDZXZhbHVhdGlvbiU1Q3VzZXItcm9sZS1pbmZvLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzZFO0FBQzdFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3RUFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0VBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXp1cmUtYWQtbG9naW4tYXBwLz8xZjM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmNcXFxccGFnZXNcXFxcYXBpXFxcXGV2YWx1YXRpb25cXFxcdXNlci1yb2xlLWluZm8udHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9ldmFsdWF0aW9uL3VzZXItcm9sZS1pbmZvXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZXZhbHVhdGlvbi91c2VyLXJvbGUtaW5mb1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fevaluation%2Fuser-role-info&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cevaluation%5Cuser-role-info.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/evaluation/user-role-info.ts":
/*!****************************************************!*\
  !*** ./src/pages/api/evaluation/user-role-info.ts ***!
  \****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jose */ \"jose\");\n/* harmony import */ var mssql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mssql */ \"mssql\");\n/* harmony import */ var mssql__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mssql__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _azure_msal_node__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @azure/msal-node */ \"@azure/msal-node\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([jose__WEBPACK_IMPORTED_MODULE_0__, _azure_msal_node__WEBPACK_IMPORTED_MODULE_2__]);\n([jose__WEBPACK_IMPORTED_MODULE_0__, _azure_msal_node__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Configuration for MSAL Node (CCA for backend)\nconst msalConfig = {\n    auth: {\n        clientId: process.env.AZURE_AD_CLIENT_ID,\n        authority: `https://login.microsoftonline.com/${process.env.AZURE_AD_TENANT_ID}`,\n        clientSecret: process.env.AZURE_AD_CLIENT_SECRET\n    }\n};\nconst cca = new _azure_msal_node__WEBPACK_IMPORTED_MODULE_2__.ConfidentialClientApplication(msalConfig);\n// Microsoft Graph API Scopes for Application Permissions\nconst GRAPH_SCOPES = [\n    \"https://graph.microsoft.com/.default\"\n]; // Standard scope for app permissions\nconst sqlConfigConnection = {\n    user: process.env.SQL_USER,\n    password: process.env.SQL_PASSWORD,\n    server: process.env.SQL_SERVER,\n    database: process.env.SQL_DATABASE,\n    options: {\n        encrypt: process.env.SQL_OPTIONS_ENCRYPT === \"true\",\n        trustServerCertificate: process.env.SQL_OPTIONS_TRUST_SERVER_CERTIFICATE === \"true\"\n    }\n};\n// Token validation for the incoming user token (from frontend)\nconst AZURE_AD_TENANT_ID = process.env.AZURE_AD_TENANT_ID;\nconst JWKS_URI = `https://login.microsoftonline.com/${AZURE_AD_TENANT_ID}/discovery/v2.0/keys`;\nconst ISSUER = `https://login.microsoftonline.com/${AZURE_AD_TENANT_ID}/v2.0`;\nconst AUDIENCE = process.env.AZURE_AD_API_AUDIENCE; // This should be the client ID of this app: 2d448115-...\nasync function validateUserToken(token) {\n    if (!AZURE_AD_TENANT_ID || !AUDIENCE) {\n        console.error(\"Backend: Missing Azure AD config for user token validation (TENANT_ID, API_AUDIENCE).\");\n        return null;\n    }\n    try {\n        const JWKS = jose__WEBPACK_IMPORTED_MODULE_0__.createRemoteJWKSet(new URL(JWKS_URI));\n        const { payload } = await jose__WEBPACK_IMPORTED_MODULE_0__.jwtVerify(token, JWKS, {\n            issuer: ISSUER,\n            audience: AUDIENCE\n        });\n        return payload;\n    } catch (error) {\n        console.error(\"User token validation error:\", error.message);\n        return null;\n    }\n}\n// Helper to get an application token for Microsoft Graph\nasync function getGraphToken() {\n    try {\n        const authResult = await cca.acquireTokenByClientCredential({\n            scopes: GRAPH_SCOPES\n        });\n        return authResult?.accessToken || null;\n    } catch (error) {\n        console.error(\"Failed to acquire Graph token by client credential:\", error);\n        return null;\n    }\n}\n// Helper to fetch data from Graph\nasync function fetchFromGraph(graphToken, url) {\n    const response = await fetch(url, {\n        headers: {\n            \"Authorization\": `Bearer ${graphToken}`\n        }\n    });\n    if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`Graph API error: ${response.status} ${response.statusText} - ${errorText}`);\n    }\n    return response.json();\n}\n// Helper to get employee details from SQL by Azure AD User Principal Name\nasync function getEmployeeFromDbByUpn(userPrincipalName) {\n    if (!userPrincipalName) return null;\n    try {\n        const pool = await mssql__WEBPACK_IMPORTED_MODULE_1___default().connect(sqlConfigConnection);\n        const result = await pool.request().input(\"userPrincipalName\", (mssql__WEBPACK_IMPORTED_MODULE_1___default().NVarChar), userPrincipalName).query`SELECT [Number] AS EmployeeId, Name, Email, UserId FROM [RFWebApp].[dbo].[Employee] WHERE UserId = @userPrincipalName`;\n        return result.recordset[0] || null;\n    } catch (dbError) {\n        console.error(`DB error fetching employee by UPN ${userPrincipalName}:`, dbError);\n        return null;\n    }\n}\n// Helper to get multiple employee details from SQL by Azure AD User Principal Names\nasync function getEmployeesFromDbByUpns(userPrincipalNames) {\n    if (!userPrincipalNames || userPrincipalNames.length === 0) {\n        return [];\n    }\n    try {\n        const pool = await mssql__WEBPACK_IMPORTED_MODULE_1___default().connect(sqlConfigConnection);\n        const request = pool.request();\n        userPrincipalNames.forEach((upn, index)=>{\n            request.input(`upn_bulk_${index}`, (mssql__WEBPACK_IMPORTED_MODULE_1___default().NVarChar), upn);\n        });\n        const inClause = userPrincipalNames.map((_, index)=>`@upn_bulk_${index}`).join(\",\");\n        const query = `\n      SELECT\n        UserId,\n        [Number] AS EmployeeId,\n        CAST([Number] AS VARCHAR) + ' | ' + [CompanyName] + ' | ' + [Name] AS DisplayInfo,\n        Name,\n        Email\n      FROM [RFWebApp].[dbo].[Employee]\n      WHERE Active = 1 AND UserId IN (${inClause})\n    `;\n        const result = await request.query(query);\n        return result.recordset;\n    } catch (dbError) {\n        console.error(`DB error fetching employees by UPNs:`, dbError);\n        return [];\n    }\n}\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        res.setHeader(\"Allow\", [\n            \"GET\"\n        ]);\n        return res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n    const authHeader = req.headers.authorization;\n    if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n        return res.status(401).json({\n            error: \"Unauthorized\",\n            details: \"No Bearer token provided.\"\n        });\n    }\n    const userToken = authHeader.substring(7);\n    const validatedUserPayload = await validateUserToken(userToken);\n    if (!validatedUserPayload || !validatedUserPayload.oid) {\n        return res.status(401).json({\n            error: \"Unauthorized\",\n            details: \"Invalid or expired user token.\"\n        });\n    }\n    const loggedInUserAzureAdId = validatedUserPayload.oid;\n    const loggedInUserUpn = validatedUserPayload.preferred_username;\n    const graphToken = await getGraphToken();\n    if (!graphToken) {\n        return res.status(500).json({\n            error: \"Internal Server Error\",\n            details: \"Could not acquire token for Graph API.\"\n        });\n    }\n    try {\n        // Get logged-in user's details from DB (and basic info from token if not in DB)\n        const loggedInUserDbInfo = await getEmployeeFromDbByUpn(loggedInUserUpn);\n        const loggedInUserName = loggedInUserDbInfo?.Name || validatedUserPayload.name || \"N/A\";\n        const loggedInUserEmail = loggedInUserDbInfo?.Email || loggedInUserUpn;\n        // 1. Get Direct Subordinates from Graph\n        const graphSubordinatesData = await fetchFromGraph(graphToken, `https://graph.microsoft.com/v1.0/users/${loggedInUserAzureAdId}/directReports?$select=id,displayName,mail,userPrincipalName`);\n        const subordinates = [];\n        if (graphSubordinatesData && graphSubordinatesData.value && graphSubordinatesData.value.length > 0) {\n            const graphUsers = graphSubordinatesData.value;\n            const graphUserUpns = graphUsers.map((gu)=>gu.userPrincipalName).filter((upn)=>!!upn);\n            const dbEmployeeDetailsList = await getEmployeesFromDbByUpns(graphUserUpns);\n            const dbEmployeesMap = new Map();\n            dbEmployeeDetailsList.forEach((dbEmp)=>{\n                if (dbEmp.UserId) dbEmployeesMap.set(dbEmp.UserId, dbEmp);\n            });\n            for (const graphUser of graphUsers){\n                const dbInfo = graphUser.userPrincipalName ? dbEmployeesMap.get(graphUser.userPrincipalName) : undefined;\n                if (dbInfo) {\n                    subordinates.push({\n                        azureAdUserId: graphUser.id,\n                        id: dbInfo.EmployeeId,\n                        name: dbInfo.DisplayInfo,\n                        email: dbInfo.Email || graphUser.mail || graphUser.userPrincipalName\n                    });\n                }\n            }\n        }\n        // 2. Get Manager from Graph\n        const managers = [];\n        try {\n            const graphManagerData = await fetchFromGraph(graphToken, `https://graph.microsoft.com/v1.0/users/${loggedInUserAzureAdId}/manager?$select=id,displayName,mail,userPrincipalName`);\n            if (graphManagerData && graphManagerData.id) {\n                const graphManager = graphManagerData;\n                let dbManager = null;\n                if (graphManager.userPrincipalName) {\n                    dbManager = await getEmployeeFromDbByUpn(graphManager.userPrincipalName);\n                }\n                managers.push({\n                    azureAdUserId: graphManager.id,\n                    id: dbManager?.EmployeeId || graphManager.id,\n                    name: dbManager?.Name || graphManager.displayName || \"N/A\",\n                    email: dbManager?.Email || graphManager.mail || graphManager.userPrincipalName\n                });\n            }\n        } catch (managerError) {\n            if (managerError.message && managerError.message.includes(\"404\")) {\n                console.log(`User ${loggedInUserAzureAdId} does not have a manager in Azure AD.`);\n            } else {\n                console.error(\"Error fetching manager from Graph:\", managerError);\n            }\n        }\n        const isManager = subordinates.length > 0;\n        await mssql__WEBPACK_IMPORTED_MODULE_1___default().close(); // Close SQL pool after all DB operations\n        return res.status(200).json({\n            userId: loggedInUserAzureAdId,\n            employeeId: loggedInUserDbInfo?.EmployeeId,\n            name: loggedInUserName,\n            email: loggedInUserEmail,\n            isManager,\n            subordinates,\n            managers\n        });\n    } catch (err) {\n        console.error(\"API Error processing user role info with Graph:\", err);\n        await mssql__WEBPACK_IMPORTED_MODULE_1___default().close();\n        return res.status(500).json({\n            error: \"Internal Server Error\",\n            details: err.message || \"An unexpected error occurred.\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2V2YWx1YXRpb24vdXNlci1yb2xlLWluZm8udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDNkI7QUFDTDtBQUNxQjtBQUU3QyxnREFBZ0Q7QUFDaEQsTUFBTUcsYUFBYTtJQUNqQkMsTUFBTTtRQUNKQyxVQUFVQyxRQUFRQyxHQUFHLENBQUNDLGtCQUFrQjtRQUN4Q0MsV0FBVyxDQUFDLGtDQUFrQyxFQUFFSCxRQUFRQyxHQUFHLENBQUNHLGtCQUFrQixDQUFDLENBQUM7UUFDaEZDLGNBQWNMLFFBQVFDLEdBQUcsQ0FBQ0ssc0JBQXNCO0lBQ2xEO0FBQ0Y7QUFDQSxNQUFNQyxNQUFNLElBQUlYLDJFQUFzQyxDQUFDQztBQUV2RCx5REFBeUQ7QUFDekQsTUFBTVksZUFBZTtJQUFDO0NBQXVDLEVBQUUscUNBQXFDO0FBc0NwRyxNQUFNQyxzQkFBc0I7SUFDMUJDLE1BQU1YLFFBQVFDLEdBQUcsQ0FBQ1csUUFBUTtJQUMxQkMsVUFBVWIsUUFBUUMsR0FBRyxDQUFDYSxZQUFZO0lBQ2xDQyxRQUFRZixRQUFRQyxHQUFHLENBQUNlLFVBQVU7SUFDOUJDLFVBQVVqQixRQUFRQyxHQUFHLENBQUNpQixZQUFZO0lBQ2xDQyxTQUFTO1FBQ1BDLFNBQVNwQixRQUFRQyxHQUFHLENBQUNvQixtQkFBbUIsS0FBSztRQUM3Q0Msd0JBQXdCdEIsUUFBUUMsR0FBRyxDQUFDc0Isb0NBQW9DLEtBQUs7SUFDL0U7QUFDRjtBQUVBLCtEQUErRDtBQUMvRCxNQUFNbkIscUJBQXFCSixRQUFRQyxHQUFHLENBQUNHLGtCQUFrQjtBQUN6RCxNQUFNb0IsV0FBVyxDQUFDLGtDQUFrQyxFQUFFcEIsbUJBQW1CLG9CQUFvQixDQUFDO0FBQzlGLE1BQU1xQixTQUFTLENBQUMsa0NBQWtDLEVBQUVyQixtQkFBbUIsS0FBSyxDQUFDO0FBQzdFLE1BQU1zQixXQUFXMUIsUUFBUUMsR0FBRyxDQUFDMEIscUJBQXFCLEVBQUUseURBQXlEO0FBRTdHLGVBQWVD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SSxrREFBUztRQUNmLE9BQU9zRixJQUFJMUIsTUFBTSxDQUFDLEtBQUtFLElBQUksQ0FBQztZQUMxQjFCLE9BQU87WUFDUHlELFNBQVNrRCxJQUFJbkcsT0FBTyxJQUFJO1FBQzFCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2F6dXJlLWFkLWxvZ2luLWFwcC8uL3NyYy9wYWdlcy9hcGkvZXZhbHVhdGlvbi91c2VyLXJvbGUtaW5mby50cz9iZGIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0ICogYXMgam9zZSBmcm9tICdqb3NlJztcbmltcG9ydCBzcWwgZnJvbSAnbXNzcWwnO1xuaW1wb3J0ICogYXMgbXNhbE5vZGUgZnJvbSAnQGF6dXJlL21zYWwtbm9kZSc7XG5cbi8vIENvbmZpZ3VyYXRpb24gZm9yIE1TQUwgTm9kZSAoQ0NBIGZvciBiYWNrZW5kKVxuY29uc3QgbXNhbENvbmZpZyA9IHtcbiAgYXV0aDoge1xuICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5BWlVSRV9BRF9DTElFTlRfSUQhLCAvLyBDbGllbnQgSUQgb2YgdGhpcyBiYWNrZW5kIGFwcGxpY2F0aW9uXG4gICAgYXV0aG9yaXR5OiBgaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tLyR7cHJvY2Vzcy5lbnYuQVpVUkVfQURfVEVOQU5UX0lEfWAsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5BWlVSRV9BRF9DTElFTlRfU0VDUkVUISxcbiAgfSxcbn07XG5jb25zdCBjY2EgPSBuZXcgbXNhbE5vZGUuQ29uZmlkZW50aWFsQ2xpZW50QXBwbGljYXRpb24obXNhbENvbmZpZyk7XG5cbi8vIE1pY3Jvc29mdCBHcmFwaCBBUEkgU2NvcGVzIGZvciBBcHBsaWNhdGlvbiBQZXJtaXNzaW9uc1xuY29uc3QgR1JBUEhfU0NPUEVTID0gWydodHRwczovL2dyYXBoLm1pY3Jvc29mdC5jb20vLmRlZmF1bHQnXTsgLy8gU3RhbmRhcmQgc2NvcGUgZm9yIGFwcCBwZXJtaXNzaW9uc1xuXG5pbnRlcmZhY2UgR3JhcGhVc2VyIHtcbiAgaWQ6IHN0cmluZzsgLy8gQXp1cmUgQUQgT2JqZWN0IElEXG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICBtYWlsPzogc3RyaW5nO1xuICB1c2VyUHJpbmNpcGFsTmFtZT86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFN1Ym9yZGluYXRlIHtcbiAgaWQ6IHN0cmluZzsgICAgICAgLy8gRW1wbG95ZWVJZCBmcm9tIHlvdXIgREIgKGlmIGZvdW5kKVxuICBhenVyZUFkVXNlcklkOiBzdHJpbmc7IC8vIEF6dXJlIEFEIFVzZXIgT2JqZWN0IElEXG4gIG5hbWU6IHN0cmluZztcbiAgZW1haWw/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBNYW5hZ2VyIHtcbiAgaWQ6IHN0cmluZzsgICAgICAgLy8gRW1wbG95ZWVJZCBmcm9tIHlvdXIgREIgKGlmIGZvdW5kKVxuICBhenVyZUFkVXNlcklkOiBzdHJpbmc7IC8vIEF6dXJlIEFEIFVzZXIgT2JqZWN0IElEXG4gIG5hbWU6IHN0cmluZztcbiAgZW1haWw/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBVc2VyUm9sZUluZm8ge1xuICB1c2VySWQ6IHN0cmluZzsgICAgICAgIC8vIEF6dXJlIEFEIFVzZXIgT2JqZWN0IElEIG9mIHRoZSBsb2dnZWQtaW4gdXNlclxuICBlbXBsb3llZUlkPzogc3RyaW5nOyAgIC8vIEVtcGxveWVlSWQgZnJvbSB5b3VyIERCIGZvciB0aGUgbG9nZ2VkLWluIHVzZXIgKGlmIGZvdW5kKVxuICBuYW1lPzogc3RyaW5nOyAgICAgICAgIC8vIE5hbWUgZnJvbSB5b3VyIERCIG9yIEdyYXBoIGZvciB0aGUgbG9nZ2VkLWluIHVzZXJcbiAgZW1haWw/OiBzdHJpbmc7ICAgICAgICAvLyBFbWFpbCBmcm9tIHlvdXIgREIgb3IgR3JhcGggZm9yIHRoZSBsb2dnZWQtaW4gdXNlclxuICBpc01hbmFnZXI6IGJvb2xlYW47XG4gIHN1Ym9yZGluYXRlczogU3Vib3JkaW5hdGVbXTtcbiAgbWFuYWdlcnM6IE1hbmFnZXJbXTtcbn1cblxuaW50ZXJmYWNlIEVycm9yUmVzcG9uc2Uge1xuICBlcnJvcjogc3RyaW5nO1xuICBkZXRhaWxzPzogc3RyaW5nO1xufVxuXG5jb25zdCBzcWxDb25maWdDb25uZWN0aW9uID0ge1xuICB1c2VyOiBwcm9jZXNzLmVudi5TUUxfVVNFUixcbiAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LlNRTF9QQVNTV09SRCxcbiAgc2VydmVyOiBwcm9jZXNzLmVudi5TUUxfU0VSVkVSISxcbiAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LlNRTF9EQVRBQkFTRSxcbiAgb3B0aW9uczoge1xuICAgIGVuY3J5cHQ6IHByb2Nlc3MuZW52LlNRTF9PUFRJT05TX0VOQ1JZUFQgPT09ICd0cnVlJyxcbiAgICB0cnVzdFNlcnZlckNlcnRpZmljYXRlOiBwcm9jZXNzLmVudi5TUUxfT1BUSU9OU19UUlVTVF9TRVJWRVJfQ0VSVElGSUNBVEUgPT09ICd0cnVlJyxcbiAgfSxcbn07XG5cbi8vIFRva2VuIHZhbGlkYXRpb24gZm9yIHRoZSBpbmNvbWluZyB1c2VyIHRva2VuIChmcm9tIGZyb250ZW5kKVxuY29uc3QgQVpVUkVfQURfVEVOQU5UX0lEID0gcHJvY2Vzcy5lbnYuQVpVUkVfQURfVEVOQU5UX0lEO1xuY29uc3QgSldLU19VUkkgPSBgaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tLyR7QVpVUkVfQURfVEVOQU5UX0lEfS9kaXNjb3ZlcnkvdjIuMC9rZXlzYDtcbmNvbnN0IElTU1VFUiA9IGBodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vJHtBWlVSRV9BRF9URU5BTlRfSUR9L3YyLjBgO1xuY29uc3QgQVVESUVOQ0UgPSBwcm9jZXNzLmVudi5BWlVSRV9BRF9BUElfQVVESUVOQ0U7IC8vIFRoaXMgc2hvdWxkIGJlIHRoZSBjbGllbnQgSUQgb2YgdGhpcyBhcHA6IDJkNDQ4MTE1LS4uLlxuXG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZVVzZXJUb2tlbih0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxqb3NlLkpXVFBheWxvYWQgfCBudWxsPiB7XG4gIGlmICghQVpVUkVfQURfVEVOQU5UX0lEIHx8ICFBVURJRU5DRSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0JhY2tlbmQ6IE1pc3NpbmcgQXp1cmUgQUQgY29uZmlnIGZvciB1c2VyIHRva2VuIHZhbGlkYXRpb24gKFRFTkFOVF9JRCwgQVBJX0FVRElFTkNFKS4nKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IEpXS1MgPSBqb3NlLmNyZWF0ZVJlbW90ZUpXS1NldChuZXcgVVJMKEpXS1NfVVJJKSk7XG4gICAgY29uc3QgeyBwYXlsb2FkIH0gPSBhd2FpdCBqb3NlLmp3dFZlcmlmeSh0b2tlbiwgSldLUywgeyBpc3N1ZXI6IElTU1VFUiwgYXVkaWVuY2U6IEFVRElFTkNFIH0pO1xuICAgIHJldHVybiBwYXlsb2FkO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignVXNlciB0b2tlbiB2YWxpZGF0aW9uIGVycm9yOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIEhlbHBlciB0byBnZXQgYW4gYXBwbGljYXRpb24gdG9rZW4gZm9yIE1pY3Jvc29mdCBHcmFwaFxuYXN5bmMgZnVuY3Rpb24gZ2V0R3JhcGhUb2tlbigpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBhdXRoUmVzdWx0ID0gYXdhaXQgY2NhLmFjcXVpcmVUb2tlbkJ5Q2xpZW50Q3JlZGVudGlhbCh7IHNjb3BlczogR1JBUEhfU0NPUEVTIH0pO1xuICAgIHJldHVybiBhdXRoUmVzdWx0Py5hY2Nlc3NUb2tlbiB8fCBudWxsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBhY3F1aXJlIEdyYXBoIHRva2VuIGJ5IGNsaWVudCBjcmVkZW50aWFsOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vLyBIZWxwZXIgdG8gZmV0Y2ggZGF0YSBmcm9tIEdyYXBoXG5hc3luYyBmdW5jdGlvbiBmZXRjaEZyb21HcmFwaChncmFwaFRva2VuOiBzdHJpbmcsIHVybDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2dyYXBoVG9rZW59YCB9LFxuICB9KTtcbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEdyYXBoIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0gLSAke2Vycm9yVGV4dH1gKTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xufVxuXG4vLyBIZWxwZXIgdG8gZ2V0IGVtcGxveWVlIGRldGFpbHMgZnJvbSBTUUwgYnkgQXp1cmUgQUQgVXNlciBQcmluY2lwYWwgTmFtZVxuYXN5bmMgZnVuY3Rpb24gZ2V0RW1wbG95ZWVGcm9tRGJCeVVwbih1c2VyUHJpbmNpcGFsTmFtZTogc3RyaW5nKTogUHJvbWlzZTxhbnkgfCBudWxsPiB7XG4gIGlmICghdXNlclByaW5jaXBhbE5hbWUpIHJldHVybiBudWxsO1xuICB0cnkge1xuICAgIGNvbnN0IHBvb2wgPSBhd2FpdCBzcWwuY29ubmVjdChzcWxDb25maWdDb25uZWN0aW9uKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnJlcXVlc3QoKVxuICAgICAgLmlucHV0KCd1c2VyUHJpbmNpcGFsTmFtZScsIHNxbC5OVmFyQ2hhciwgdXNlclByaW5jaXBhbE5hbWUpXG4gICAgICAucXVlcnlgU0VMRUNUIFtOdW1iZXJdIEFTIEVtcGxveWVlSWQsIE5hbWUsIEVtYWlsLCBVc2VySWQgRlJPTSBbUkZXZWJBcHBdLltkYm9dLltFbXBsb3llZV0gV0hFUkUgVXNlcklkID0gQHVzZXJQcmluY2lwYWxOYW1lYDtcbiAgICByZXR1cm4gcmVzdWx0LnJlY29yZHNldFswXSB8fCBudWxsO1xuICB9IGNhdGNoIChkYkVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgREIgZXJyb3IgZmV0Y2hpbmcgZW1wbG95ZWUgYnkgVVBOICR7dXNlclByaW5jaXBhbE5hbWV9OmAsIGRiRXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIEludGVyZmFjZSBmb3IgdGhlIGRhdGEgZmV0Y2hlZCBmcm9tIFNRTCBmb3Igc3Vib3JkaW5hdGVzXG5pbnRlcmZhY2UgRGJFbXBsb3llZURldGFpbHMge1xuICBVc2VySWQ6IHN0cmluZzsgICAgICAgLy8gQXp1cmUgQUQgVXNlciBQcmluY2lwYWwgTmFtZSAoZnJvbSBTUUwgdGFibGUpXG4gIEVtcGxveWVlSWQ6IHN0cmluZyB8IG51bGw7ICAvLyBUaGlzIHdpbGwgbm93IGJlIHRoZSAnTnVtYmVyJyBjb2x1bW4gZnJvbSBEQlxuICBEaXNwbGF5SW5mbzogc3RyaW5nOyAvLyBDb25jYXRlbmF0ZWQgc3RyaW5nOiBOdW1iZXIgfCBDb21wYW55TmFtZSB8IE5hbWVcbiAgTmFtZTogc3RyaW5nOyAgICAgICAgIC8vIE9yaWdpbmFsIG5hbWUgZnJvbSBEQlxuICBFbWFpbDogc3RyaW5nIHwgbnVsbDsgLy8gRW1haWwgZnJvbSBEQlxufVxuXG4vLyBIZWxwZXIgdG8gZ2V0IG11bHRpcGxlIGVtcGxveWVlIGRldGFpbHMgZnJvbSBTUUwgYnkgQXp1cmUgQUQgVXNlciBQcmluY2lwYWwgTmFtZXNcbmFzeW5jIGZ1bmN0aW9uIGdldEVtcGxveWVlc0Zyb21EYkJ5VXBucyh1c2VyUHJpbmNpcGFsTmFtZXM6IHN0cmluZ1tdKTogUHJvbWlzZTxEYkVtcGxveWVlRGV0YWlsc1tdPiB7XG4gIGlmICghdXNlclByaW5jaXBhbE5hbWVzIHx8IHVzZXJQcmluY2lwYWxOYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCBwb29sID0gYXdhaXQgc3FsLmNvbm5lY3Qoc3FsQ29uZmlnQ29ubmVjdGlvbik7XG4gICAgY29uc3QgcmVxdWVzdCA9IHBvb2wucmVxdWVzdCgpO1xuXG4gICAgdXNlclByaW5jaXBhbE5hbWVzLmZvckVhY2goKHVwbiwgaW5kZXgpID0+IHtcbiAgICAgIHJlcXVlc3QuaW5wdXQoYHVwbl9idWxrXyR7aW5kZXh9YCwgc3FsLk5WYXJDaGFyLCB1cG4pO1xuICAgIH0pO1xuICAgIGNvbnN0IGluQ2xhdXNlID0gdXNlclByaW5jaXBhbE5hbWVzLm1hcCgoXywgaW5kZXgpID0+IGBAdXBuX2J1bGtfJHtpbmRleH1gKS5qb2luKCcsJyk7XG5cbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIFNFTEVDVFxuICAgICAgICBVc2VySWQsXG4gICAgICAgIFtOdW1iZXJdIEFTIEVtcGxveWVlSWQsXG4gICAgICAgIENBU1QoW051bWJlcl0gQVMgVkFSQ0hBUikgKyAnIHwgJyArIFtDb21wYW55TmFtZV0gKyAnIHwgJyArIFtOYW1lXSBBUyBEaXNwbGF5SW5mbyxcbiAgICAgICAgTmFtZSxcbiAgICAgICAgRW1haWxcbiAgICAgIEZST00gW1JGV2ViQXBwXS5bZGJvXS5bRW1wbG95ZWVdXG4gICAgICBXSEVSRSBBY3RpdmUgPSAxIEFORCBVc2VySWQgSU4gKCR7aW5DbGF1c2V9KVxuICAgIGA7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0LnF1ZXJ5KHF1ZXJ5KTtcbiAgICByZXR1cm4gcmVzdWx0LnJlY29yZHNldCBhcyBEYkVtcGxveWVlRGV0YWlsc1tdO1xuICB9IGNhdGNoIChkYkVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgREIgZXJyb3IgZmV0Y2hpbmcgZW1wbG95ZWVzIGJ5IFVQTnM6YCwgZGJFcnJvcik7XG4gICAgcmV0dXJuIFtdOyBcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxuICByZXM6IE5leHRBcGlSZXNwb25zZTxVc2VyUm9sZUluZm8gfCBFcnJvclJlc3BvbnNlPlxuKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xuICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnXSk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5lbmQoYE1ldGhvZCAke3JlcS5tZXRob2R9IE5vdCBBbGxvd2VkYCk7XG4gIH1cblxuICBjb25zdCBhdXRoSGVhZGVyID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbjtcbiAgaWYgKCFhdXRoSGVhZGVyIHx8ICFhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJywgZGV0YWlsczogJ05vIEJlYXJlciB0b2tlbiBwcm92aWRlZC4nIH0pO1xuICB9XG4gIGNvbnN0IHVzZXJUb2tlbiA9IGF1dGhIZWFkZXIuc3Vic3RyaW5nKDcpO1xuICBjb25zdCB2YWxpZGF0ZWRVc2VyUGF5bG9hZCA9IGF3YWl0IHZhbGlkYXRlVXNlclRva2VuKHVzZXJUb2tlbik7XG5cbiAgaWYgKCF2YWxpZGF0ZWRVc2VyUGF5bG9hZCB8fCAhdmFsaWRhdGVkVXNlclBheWxvYWQub2lkKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnLCBkZXRhaWxzOiAnSW52YWxpZCBvciBleHBpcmVkIHVzZXIgdG9rZW4uJyB9KTtcbiAgfVxuICBjb25zdCBsb2dnZWRJblVzZXJBenVyZUFkSWQgPSB2YWxpZGF0ZWRVc2VyUGF5bG9hZC5vaWQgYXMgc3RyaW5nO1xuICBjb25zdCBsb2dnZWRJblVzZXJVcG4gPSB2YWxpZGF0ZWRVc2VyUGF5bG9hZC5wcmVmZXJyZWRfdXNlcm5hbWUgYXMgc3RyaW5nO1xuXG4gIGNvbnN0IGdyYXBoVG9rZW4gPSBhd2FpdCBnZXRHcmFwaFRva2VuKCk7XG4gIGlmICghZ3JhcGhUb2tlbikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJywgZGV0YWlsczogJ0NvdWxkIG5vdCBhY3F1aXJlIHRva2VuIGZvciBHcmFwaCBBUEkuJyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gR2V0IGxvZ2dlZC1pbiB1c2VyJ3MgZGV0YWlscyBmcm9tIERCIChhbmQgYmFzaWMgaW5mbyBmcm9tIHRva2VuIGlmIG5vdCBpbiBEQilcbiAgICBjb25zdCBsb2dnZWRJblVzZXJEYkluZm8gPSBhd2FpdCBnZXRFbXBsb3llZUZyb21EYkJ5VXBuKGxvZ2dlZEluVXNlclVwbik7XG4gICAgY29uc3QgbG9nZ2VkSW5Vc2VyTmFtZSA9IGxvZ2dlZEluVXNlckRiSW5mbz8uTmFtZSB8fCB2YWxpZGF0ZWRVc2VyUGF5bG9hZC5uYW1lIGFzIHN0cmluZyB8fCAnTi9BJztcbiAgICBjb25zdCBsb2dnZWRJblVzZXJFbWFpbCA9IGxvZ2dlZEluVXNlckRiSW5mbz8uRW1haWwgfHwgbG9nZ2VkSW5Vc2VyVXBuO1xuXG4gICAgLy8gMS4gR2V0IERpcmVjdCBTdWJvcmRpbmF0ZXMgZnJvbSBHcmFwaFxuICAgIGNvbnN0IGdyYXBoU3Vib3JkaW5hdGVzRGF0YSA9IGF3YWl0IGZldGNoRnJvbUdyYXBoKGdyYXBoVG9rZW4sIGBodHRwczovL2dyYXBoLm1pY3Jvc29mdC5jb20vdjEuMC91c2Vycy8ke2xvZ2dlZEluVXNlckF6dXJlQWRJZH0vZGlyZWN0UmVwb3J0cz8kc2VsZWN0PWlkLGRpc3BsYXlOYW1lLG1haWwsdXNlclByaW5jaXBhbE5hbWVgKTtcbiAgICBjb25zdCBzdWJvcmRpbmF0ZXM6IFN1Ym9yZGluYXRlW10gPSBbXTtcblxuICAgIGlmIChncmFwaFN1Ym9yZGluYXRlc0RhdGEgJiYgZ3JhcGhTdWJvcmRpbmF0ZXNEYXRhLnZhbHVlICYmIChncmFwaFN1Ym9yZGluYXRlc0RhdGEudmFsdWUgYXMgR3JhcGhVc2VyW10pLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGdyYXBoVXNlcnMgPSBncmFwaFN1Ym9yZGluYXRlc0RhdGEudmFsdWUgYXMgR3JhcGhVc2VyW107XG4gICAgICBjb25zdCBncmFwaFVzZXJVcG5zID0gZ3JhcGhVc2Vycy5tYXAoZ3UgPT4gZ3UudXNlclByaW5jaXBhbE5hbWUpLmZpbHRlcih1cG4gPT4gISF1cG4pIGFzIHN0cmluZ1tdO1xuICAgICAgXG4gICAgICBjb25zdCBkYkVtcGxveWVlRGV0YWlsc0xpc3QgPSBhd2FpdCBnZXRFbXBsb3llZXNGcm9tRGJCeVVwbnMoZ3JhcGhVc2VyVXBucyk7XG5cbiAgICAgIGNvbnN0IGRiRW1wbG95ZWVzTWFwID0gbmV3IE1hcDxzdHJpbmcsIERiRW1wbG95ZWVEZXRhaWxzPigpO1xuICAgICAgZGJFbXBsb3llZURldGFpbHNMaXN0LmZvckVhY2goZGJFbXAgPT4ge1xuICAgICAgICBpZihkYkVtcC5Vc2VySWQpIGRiRW1wbG95ZWVzTWFwLnNldChkYkVtcC5Vc2VySWQsIGRiRW1wKTtcbiAgICAgIH0pO1xuXG4gICAgICBmb3IgKGNvbnN0IGdyYXBoVXNlciBvZiBncmFwaFVzZXJzKSB7XG4gICAgICAgIGNvbnN0IGRiSW5mbyA9IGdyYXBoVXNlci51c2VyUHJpbmNpcGFsTmFtZSA/IGRiRW1wbG95ZWVzTWFwLmdldChncmFwaFVzZXIudXNlclByaW5jaXBhbE5hbWUpIDogdW5kZWZpbmVkO1xuICAgICAgICBcbiAgICAgICAgaWYgKGRiSW5mbykgeyAvLyBPbmx5IGFkZCBpZiBmb3VuZCBhbmQgYWN0aXZlIGluIGxvY2FsIERCXG4gICAgICAgICAgc3Vib3JkaW5hdGVzLnB1c2goe1xuICAgICAgICAgICAgYXp1cmVBZFVzZXJJZDogZ3JhcGhVc2VyLmlkLCBcbiAgICAgICAgICAgIGlkOiBkYkluZm8uRW1wbG95ZWVJZCEsIFxuICAgICAgICAgICAgbmFtZTogZGJJbmZvLkRpc3BsYXlJbmZvLCBcbiAgICAgICAgICAgIGVtYWlsOiBkYkluZm8uRW1haWwgfHwgZ3JhcGhVc2VyLm1haWwgfHwgZ3JhcGhVc2VyLnVzZXJQcmluY2lwYWxOYW1lLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gMi4gR2V0IE1hbmFnZXIgZnJvbSBHcmFwaFxuICAgIGNvbnN0IG1hbmFnZXJzOiBNYW5hZ2VyW10gPSBbXTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZ3JhcGhNYW5hZ2VyRGF0YSA9IGF3YWl0IGZldGNoRnJvbUdyYXBoKGdyYXBoVG9rZW4sIGBodHRwczovL2dyYXBoLm1pY3Jvc29mdC5jb20vdjEuMC91c2Vycy8ke2xvZ2dlZEluVXNlckF6dXJlQWRJZH0vbWFuYWdlcj8kc2VsZWN0PWlkLGRpc3BsYXlOYW1lLG1haWwsdXNlclByaW5jaXBhbE5hbWVgKTtcbiAgICAgIGlmIChncmFwaE1hbmFnZXJEYXRhICYmIGdyYXBoTWFuYWdlckRhdGEuaWQpIHtcbiAgICAgICAgY29uc3QgZ3JhcGhNYW5hZ2VyID0gZ3JhcGhNYW5hZ2VyRGF0YSBhcyBHcmFwaFVzZXI7XG4gICAgICAgIGxldCBkYk1hbmFnZXIgPSBudWxsO1xuICAgICAgICBpZiAoZ3JhcGhNYW5hZ2VyLnVzZXJQcmluY2lwYWxOYW1lKSB7XG4gICAgICAgICAgICBkYk1hbmFnZXIgPSBhd2FpdCBnZXRFbXBsb3llZUZyb21EYkJ5VXBuKGdyYXBoTWFuYWdlci51c2VyUHJpbmNpcGFsTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFuYWdlcnMucHVzaCh7XG4gICAgICAgICAgYXp1cmVBZFVzZXJJZDogZ3JhcGhNYW5hZ2VyLmlkLFxuICAgICAgICAgIGlkOiBkYk1hbmFnZXI/LkVtcGxveWVlSWQgfHwgZ3JhcGhNYW5hZ2VyLmlkLFxuICAgICAgICAgIG5hbWU6IGRiTWFuYWdlcj8uTmFtZSB8fCBncmFwaE1hbmFnZXIuZGlzcGxheU5hbWUgfHwgJ04vQScsXG4gICAgICAgICAgZW1haWw6IGRiTWFuYWdlcj8uRW1haWwgfHwgZ3JhcGhNYW5hZ2VyLm1haWwgfHwgZ3JhcGhNYW5hZ2VyLnVzZXJQcmluY2lwYWxOYW1lLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChtYW5hZ2VyRXJyb3I6IGFueSkge1xuICAgICAgICBpZiAobWFuYWdlckVycm9yLm1lc3NhZ2UgJiYgbWFuYWdlckVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJzQwNCcpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgVXNlciAke2xvZ2dlZEluVXNlckF6dXJlQWRJZH0gZG9lcyBub3QgaGF2ZSBhIG1hbmFnZXIgaW4gQXp1cmUgQUQuYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBtYW5hZ2VyIGZyb20gR3JhcGg6JywgbWFuYWdlckVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGlzTWFuYWdlciA9IHN1Ym9yZGluYXRlcy5sZW5ndGggPiAwO1xuXG4gICAgYXdhaXQgc3FsLmNsb3NlKCk7IC8vIENsb3NlIFNRTCBwb29sIGFmdGVyIGFsbCBEQiBvcGVyYXRpb25zXG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgdXNlcklkOiBsb2dnZWRJblVzZXJBenVyZUFkSWQsXG4gICAgICBlbXBsb3llZUlkOiBsb2dnZWRJblVzZXJEYkluZm8/LkVtcGxveWVlSWQsXG4gICAgICBuYW1lOiBsb2dnZWRJblVzZXJOYW1lLFxuICAgICAgZW1haWw6IGxvZ2dlZEluVXNlckVtYWlsLFxuICAgICAgaXNNYW5hZ2VyLFxuICAgICAgc3Vib3JkaW5hdGVzLFxuICAgICAgbWFuYWdlcnMsXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3IgcHJvY2Vzc2luZyB1c2VyIHJvbGUgaW5mbyB3aXRoIEdyYXBoOicsIGVycik7XG4gICAgYXdhaXQgc3FsLmNsb3NlKCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXG4gICAgICBlcnJvcjogJ0ludGVybmFsIFNlcnZlciBFcnJvcicsIFxuICAgICAgZGV0YWlsczogZXJyLm1lc3NhZ2UgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQuJ1xuICAgIH0pO1xuICB9XG59ICJdLCJuYW1lcyI6WyJqb3NlIiwic3FsIiwibXNhbE5vZGUiLCJtc2FsQ29uZmlnIiwiYXV0aCIsImNsaWVudElkIiwicHJvY2VzcyIsImVudiIsIkFaVVJFX0FEX0NMSUVOVF9JRCIsImF1dGhvcml0eSIsIkFaVVJFX0FEX1RFTkFOVF9JRCIsImNsaWVudFNlY3JldCIsIkFaVVJFX0FEX0NMSUVOVF9TRUNSRVQiLCJjY2EiLCJDb25maWRlbnRpYWxDbGllbnRBcHBsaWNhdGlvbiIsIkdSQVBIX1NDT1BFUyIsInNxbENvbmZpZ0Nvbm5lY3Rpb24iLCJ1c2VyIiwiU1FMX1VTRVIiLCJwYXNzd29yZCIsIlNRTF9QQVNTV09SRCIsInNlcnZlciIsIlNRTF9TRVJWRVIiLCJkYXRhYmFzZSIsIlNRTF9EQVRBQkFTRSIsIm9wdGlvbnMiLCJlbmNyeXB0IiwiU1FMX09QVElPTlNfRU5DUllQVCIsInRydXN0U2VydmVyQ2VydGlmaWNhdGUiLCJTUUxfT1BUSU9OU19UUlVTVF9TRVJWRVJfQ0VSVElGSUNBVEUiLCJKV0tTX1VSSSIsIklTU1VFUiIsIkFVRElFTkNFIiwiQVpVUkVfQURfQVBJX0FVRElFTkNFIiwidmFsaWRhdGVVc2VyVG9rZW4iLCJ0b2tlbiIsImNvbnNvbGUiLCJlcnJvciIsIkpXS1MiLCJjcmVhdGVSZW1vdGVKV0tTZXQiLCJVUkwiLCJwYXlsb2FkIiwiand0VmVyaWZ5IiwiaXNzdWVyIiwiYXVkaWVuY2UiLCJtZXNzYWdlIiwiZ2V0R3JhcGhUb2tlbiIsImF1dGhSZXN1bHQiLCJhY3F1aXJlVG9rZW5CeUNsaWVudENyZWRlbnRpYWwiLCJzY29wZXMiLCJhY2Nlc3NUb2tlbiIsImZldGNoRnJvbUdyYXBoIiwiZ3JhcGhUb2tlbiIsInVybCIsInJlc3BvbnNlIiwiZmV0Y2giLCJoZWFkZXJzIiwib2siLCJlcnJvclRleHQiLCJ0ZXh0IiwiRXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwianNvbiIsImdldEVtcGxveWVlRnJvbURiQnlVcG4iLCJ1c2VyUHJpbmNpcGFsTmFtZSIsInBvb2wiLCJjb25uZWN0IiwicmVzdWx0IiwicmVxdWVzdCIsImlucHV0IiwiTlZhckNoYXIiLCJxdWVyeSIsInJlY29yZHNldCIsImRiRXJyb3IiLCJnZXRFbXBsb3llZXNGcm9tRGJCeVVwbnMiLCJ1c2VyUHJpbmNpcGFsTmFtZXMiLCJsZW5ndGgiLCJmb3JFYWNoIiwidXBuIiwiaW5kZXgiLCJpbkNsYXVzZSIsIm1hcCIsIl8iLCJqb2luIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInNldEhlYWRlciIsImVuZCIsImF1dGhIZWFkZXIiLCJhdXRob3JpemF0aW9uIiwic3RhcnRzV2l0aCIsImRldGFpbHMiLCJ1c2VyVG9rZW4iLCJzdWJzdHJpbmciLCJ2YWxpZGF0ZWRVc2VyUGF5bG9hZCIsIm9pZCIsImxvZ2dlZEluVXNlckF6dXJlQWRJZCIsImxvZ2dlZEluVXNlclVwbiIsInByZWZlcnJlZF91c2VybmFtZSIsImxvZ2dlZEluVXNlckRiSW5mbyIsImxvZ2dlZEluVXNlck5hbWUiLCJOYW1lIiwibmFtZSIsImxvZ2dlZEluVXNlckVtYWlsIiwiRW1haWwiLCJncmFwaFN1Ym9yZGluYXRlc0RhdGEiLCJzdWJvcmRpbmF0ZXMiLCJ2YWx1ZSIsImdyYXBoVXNlcnMiLCJncmFwaFVzZXJVcG5zIiwiZ3UiLCJmaWx0ZXIiLCJkYkVtcGxveWVlRGV0YWlsc0xpc3QiLCJkYkVtcGxveWVlc01hcCIsIk1hcCIsImRiRW1wIiwiVXNlcklkIiwic2V0IiwiZ3JhcGhVc2VyIiwiZGJJbmZvIiwiZ2V0IiwidW5kZWZpbmVkIiwicHVzaCIsImF6dXJlQWRVc2VySWQiLCJpZCIsIkVtcGxveWVlSWQiLCJEaXNwbGF5SW5mbyIsImVtYWlsIiwibWFpbCIsIm1hbmFnZXJzIiwiZ3JhcGhNYW5hZ2VyRGF0YSIsImdyYXBoTWFuYWdlciIsImRiTWFuYWdlciIsImRpc3BsYXlOYW1lIiwibWFuYWdlckVycm9yIiwiaW5jbHVkZXMiLCJsb2ciLCJpc01hbmFnZXIiLCJjbG9zZSIsInVzZXJJZCIsImVtcGxveWVlSWQiLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/evaluation/user-role-info.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fevaluation%2Fuser-role-info&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cevaluation%5Cuser-role-info.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();